<nav class="navbar navbar-expand-lg navbar-dark bg-dark" style="background: linear-gradient(135deg, #6059da, #7c3aed); box-shadow: 0 2px 15px rgba(0,0,0,0.1);">
  <div class="container">
      <a class="navbar-brand fw-bold d-flex align-items-center" href="/" style="font-size: 1.5rem;">
          <i class="bi bi-pencil-square me-2"></i>BlogApp
      </a>
      
      <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown">
          <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav ms-auto align-items-lg-center">
              <li class="nav-item">
                  <a class="nav-link position-relative px-3" aria-current="page" href="/">
                      <i class="bi bi-house-door me-1"></i>Home
                      <span class="nav-underline"></span>
                  </a>
              </li>
              
              <% if(locals.user) { %>
                  <li class="nav-item">
                      <a class="nav-link px-3 position-relative" href="/blog/add-new">
                          <i class="bi bi-plus-circle me-1"></i>New Post
                          <span class="nav-underline"></span>
                      </a>
                  </li>
                  
                  <li class="nav-item dropdown">
                      <a class="nav-link dropdown-toggle d-flex align-items-center px-3" href="#" role="button" data-bs-toggle="dropdown">
                          <img src="<%= user.profilePic %>" class="rounded-circle me-2" width="32" height="32" alt="Profile">
                          <%= user.name %>
                      </a>
                      <ul class="dropdown-menu dropdown-menu-end mt-2 border-0 shadow-lg" style="min-width: 200px; background: rgba(255,255,255,0.95);">
                          <li><a class="dropdown-item py-2" href="/profile"><i class="bi bi-person-circle me-2"></i>Profile</a></li>
                          <li><a class="dropdown-item py-2" href="/settings"><i class="bi bi-gear me-2"></i>Settings</a></li>
                          <li><hr class="dropdown-divider"></li>
                          <li><a class="dropdown-item py-2 text-danger" href="/user/signout"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
                      </ul>
                  </li>
              <% } else { %>
                  <li class="nav-item">
                      <a class="nav-link px-3 position-relative" href="/user/signup">
                          <i class="bi bi-person-plus me-1"></i>Sign Up
                          <span class="nav-underline"></span>
                      </a>
                  </li>
                  <li class="nav-item">
                      <a class="btn btn-outline-light ms-2 px-4 rounded-pill" href="/user/signin">
                          <i class="bi bi-box-arrow-in-right me-1"></i>Login
                      </a>
                  </li>
              <% } %>
          </ul>
      </div>
  </div>
</nav>

<% if(locals.error) { %>
  <div class="container mt-4">
      <div class="alert alert-danger d-flex align-items-center shadow-sm" role="alert" style="border-left: 4px solid #dc3545;">
          <i class="bi bi-exclamation-triangle-fill me-2"></i>
          <div><%= locals.error %></div>
      </div>
  </div>
<% } %>

<style>
  .nav-link {
      color: rgba(255,255,255,0.9) !important;
      transition: all 0.3s ease;
  }
  
  .nav-link:hover,
  .nav-link.active {
      color: #fff !important;
      transform: translateY(-2px);
  }
  
  .nav-underline {
      position: absolute;
      bottom: -5px;
      left: 0;
      right: 0;
      height: 2px;
      background: #fff;
      transform: scaleX(0);
      transition: transform 0.3s ease;
  }
  
  .nav-link:hover .nav-underline,
  .nav-link.active .nav-underline {
      transform: scaleX(1);
  }
  
  .dropdown-menu {
      backdrop-filter: blur(10px);
      border-radius: 10px !important;
  }
  
  .dropdown-item {
      transition: all 0.2s ease;
      border-radius: 6px;
      margin: 2px 8px;
      width: auto;
  }
  
  .dropdown-item:hover {
      background: #726cdb;
      color: white !important;
      transform: translateX(5px);
  }
  
  .navbar-toggler:focus {
      box-shadow: none !important;
  }
</style>